!function(n){var r={};function e(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:t})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=3)}([function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function n(){}return n.getLevel=function(n){return n.map(function(n){return n.map(function(n){return n.length}).reduce(function(n,r){return n+r},0)}).reduce(function(n,r){return n+r},0)},n.removeRowDuplicate=function(n){n.forEach(function(n){var r=n.reduce(function(n,r){return 1===r.length&&n.push(r[0]),n},[]);n.forEach(function(n){n.length>1&&r.forEach(function(r){var e=n.indexOf(r);-1!==e&&n.splice(e,1)})})})},n.removeColDuplicate=function(r){var e=function(n){for(var r=[],e=0;e<9;e++){for(var t=[],o=0;o<9;o++)t.push(n[o][e]);r.push(t)}return r}(r);n.removeRowDuplicate(e)},n.removeSquareDuplicate=function(r){var e=function(n){for(var r=[],e=function(e){var t=[],o=Math.floor(e/3),u=e%3;[0,1,2].forEach(function(r){return[0,1,2].forEach(function(e){return t.push(n[o+r][u+e])})}),r.push(t)},t=0;t<9;t++)e(t);return r}(r);n.removeRowDuplicate(e)},n}();r.HumanSolver=t},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.backtracker=function(n){for(var r=[],e=n.getSolutionStructure(),t=0,o=0,u=n.universe,i=JSON.parse(JSON.stringify(n.universe));;){if(t++,n.maxIteration>0&&t>n.maxIteration)throw new Error("maxIteration reached.");if(-1===o){if("find-all"===n.strategy)break;throw new Error("it seems that the backtracking cannot find a solution.")}var a=n.getPossibilities(u,o);if(0!==a.length){var c=n.pop(a);if(n.setSolution(e,o,c),n.checkSolution(e,o)&&++o===n.length){if("find-first"===n.strategy)break;if("find-all"===n.strategy){var f=JSON.parse(JSON.stringify(e));if(r.push(f),r.length>=n.max)break;o--;continue}}}else n.resetSolution(e,o),n.resetPossibilities(a,o,i),o--}return"find-first"===n.strategy?e:"find-all"===n.strategy?r:void 0}},function(n,r,e){"use strict";var t=this&&this.__assign||Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n};Object.defineProperty(r,"__esModule",{value:!0});var o=e(1),u=e(0),i=function(){return new Array(9).fill(0).map(function(n,r){return r+1})};function a(n){if(0===n.length)throw new Error("cannot pop from an empty array");var r=Math.floor(Math.random()*n.length),e=n[r];return n.splice(r,1),e}function c(n){return{x:Math.floor(n/9),y:n%9}}function f(n,r,e){return function(n,r,e){return n[r].indexOf(n[r][e])===e}(n,r,e)&&function(n,r,e){return n.map(function(n){return n[e]}).indexOf(n[r][e])===r}(n,r,e)&&function(n,r,e){var t=n[r][e],o=Math.floor(r/3),u=Math.floor(e/3),i=n.slice(3*o,3*o+3).map(function(n){return n.slice(3*u,3*u+3)});return i[r%3][e%3]=0,-1===i.reduce(function(n,r){return n.concat(r)},[]).indexOf(t)}(n,r,e)}var l={getSolutionStructure:function(){return new Array(9).fill(0).map(function(){return new Array(9).fill(0)})},universe:new Array(9).fill(0).map(function(){return new Array(9).fill(0).map(i)}),getPossibilities:function(n,r){var e=c(r),t=e.x,o=e.y;return n[t][o]},resetPossibilities:function(n,r,e){var t=c(r),o=t.x,u=t.y;e[o][u].forEach(function(r){return n.push(r)})},resetSolution:function(n,r){var e=c(r),t=e.x,o=e.y;n[t][o]=0},setSolution:function(n,r,e){var t=c(r),o=t.x,u=t.y;n[o][u]=e},checkSolution:function(n,r){var e=c(r);return f(n,e.x,e.y)},pop:function(n){return a(n)},strategy:"find-first",max:2,length:81},s=function(){function n(){}return n.generate=function(){return l.universe=new Array(9).fill(0).map(function(){return new Array(9).fill(0).map(i)}),o.backtracker(l)},n.naiveCarve=function(r,e){for(var t,o=0;;){t=JSON.parse(JSON.stringify(r));for(var u=new Array(81).fill(0).map(function(n,r){return{r:Math.floor(r/9),c:r%9}}),i=0;i<e;i++){var c=a(u),f=c.r,l=c.c;t[f][l]=0}if(n.checkOneSolution(t))break;o++}return console.log("found in %d iterations",o),t},n.checkOneSolution=function(r){var e=r.map(function(n){return n.map(function(n){return 0===n?new Array(9).fill(0).map(function(n,r){return r+1}):[n]})});n.humanSolve(e),n.humanSolve(e),n.humanSolve(e),n.humanSolve(e);var u=t({},l,{universe:e,strategy:"find-all",max:2,length:81});return 1===o.backtracker(u).length},n.humanSolve=function(n){u.HumanSolver.removeRowDuplicate(n),u.HumanSolver.removeColDuplicate(n),u.HumanSolver.removeSquareDuplicate(n)},n.carve=function(r,e){return n.btcarve(r,e)},n.btcarve=function(r,e){for(var t=function(){try{var t,u={getSolutionStructure:function(){return[]},universe:new Array(e).fill(0).map(function(){return new Array(81).fill(0).map(function(n,r){return{row:Math.floor(r/9),col:r%9}})}),getPossibilities:function(n,r){return n[r]},resetPossibilities:function(n,r,e){e[r].forEach(function(r){return n.push(r)})},resetSolution:function(n,r){n.pop()},setSolution:function(n,r,e){n.length!==r?n.length!==r-1||n.push(e):n[r-1]=e},checkSolution:function(e,o){var u=e[o-1];return e.findIndex(function(n){return n.row===u.row&&n.col===u.col})===o-1&&(t=JSON.parse(JSON.stringify(r)),e.forEach(function(n){t[n.row][n.col]=0}),n.checkOneSolution(t))},pop:function(n){return a(n)},strategy:"find-first",maxIteration:500,length:e};o.backtracker(u);return{value:t}}catch(n){console.log("e",n.message)}};;){var u=t();if("object"==typeof u)return u.value}},n}();r.SudokuSolver=s},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(2);window.SudokuSolver=t.SudokuSolver}]);
//# sourceMappingURL=sudoku-generator.web.js.map